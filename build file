library identifier: 'neom-jenkins-sharedlib-dockerbuild@feature/ocir-change', retriever: modernSCM([$class: 'GitSCMSource',
   remote: 'https://github.com/NEOM-KSA/neom-jenkins-sharedlib-dockerbuild.git',
   credentialsId: 'github_token'])


credentialsId: 'github_token'])

pipeline {
  agent {
    kubernetes {
      yaml '''
        apiVersion: v1
        kind: Pod
        spec:
          containers:
          - name: podman
            imagePullPolicy: Always
            image: jed.ocir.io/axssefozft8h/podman-trivy-oci:latest
            command:
            - cat
            tty: true
            securityContext:
              privileged: true
            volumeMounts:
            - mountPath: /var/lib/containers
              name: podman-volume
            - mountPath: /dev/shm
              name: devshm-volume
            - mountPath: /var/run
              name: varrun-volume
            - mountPath: /tmp
              name: tmp-volume
